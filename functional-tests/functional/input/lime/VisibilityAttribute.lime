# Copyright (C) 2016-2022 HERE Europe B.V.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# 
# SPDX-License-Identifier: Apache-2.0
# License-Filename: LICENSE

package test

@Internal
class InternalAttributeClassWithFunctions {
    fun fooBar()
    constructor make()
    @Dart("remake")
    constructor make(foo: String)
}

struct PublicStructWithNonDefaultInternalAttributeField {
    defaultedField: Int = 42
    @Internal
    internalField: String
    publicField: Boolean
}

@Internal
class InternalAttributeClassWithStaticProperty {
    @Internal
    static property fooBar: String
}

@Kotlin(Skip) # Kotlin language does not allow internal elements in interfaces.
@Java(Skip="KotlinTestsRunWithJavaJni") # Ensure that tests with Java-generated JNI pass.
interface WithInternalAttributeProperty {
    @Internal
    property foo: String
}

@Internal
interface InternalAttributeInterfaceParent {
    fun fooBar()
    property prop: String

    @Internal
    static property someInternalProperty: String
}

@Internal
lambda SomeInternalLambda = () -> Int

@Internal
narrow interface SomeInternalInterface {
    fun foo(): Int
    fun bar(): Long
}

@Internal
struct SomeInternalStructWithMembers {
    someInteger: Int
    someLong: Long

    fun someFunction(): Int

    static fun create(): SomeInternalStructWithMembers
}

struct SomeStructWithInternalMembers {
    someInteger: Int
    someLong: Long

    @Internal
    fun getSomeCppLambda(): SomeInternalLambda

    @Internal
    fun getSomeCppImplOfInternalInterface(): SomeInternalInterface

    @Internal
    fun callSomeLambda(someLambda: SomeInternalLambda): Int

    @Internal
    fun callMethodOfSomeInterface(someInterface: SomeInternalInterface): Int

    @Internal
    someInternalString: String

    @Internal
    constructor someInternalCtor(x: Int)

    @Internal
    fun someInternalFunction(): Int

    @Skip(Swift, Dart) @Internal(Java, Kotlin)
    fun someInternalFunctionButOnlyForAndroid(): Int

    @Internal
    static fun someStaticInternalFunction(): Int
}

struct SomeStructWithInternalFreeArgsCtor {
    @Internal
    someInt: Int

    someString: String = "Special string"
}

struct SomeStructWithInternalAllArgsCtor {
    @Internal
    someInt: Int

    @Internal
    someString: String
}

struct SomeStructWithInternalFieldConstructor {
    @Internal
    someInt: Int

    someString: String = "QAZWSX"

    @Internal
    field constructor(someInt)
}

@Internal
class SomeInternalClassWithMembers {
    fun someFunction(): Int
    static fun someStaticFunction(): Int

    static fun create(): SomeInternalClassWithMembers

    @Internal
    class SomeNestedInternalClass {
        fun doSomething(): Int

        @Internal
        fun doSomethingElse(): Int

        static fun create(): SomeNestedInternalClass
    }
}

@Internal
open class SomeOpenInternalClass {
    @Internal
    fun someInternalFunction(): Int
}

@Internal
class SomeDerivedInternalClass : SomeOpenInternalClass, SomeInternalInterface {
    @Internal
    fun someFunctionFromDerivedClass(): Int

    @Internal
    static fun create(): SomeDerivedInternalClass
}

class SomeClassWithInternalMembers {
    @Internal
    constructor someInternalCtor()

    @Internal
    fun someInternalFunction(): Int

    @Internal
    static fun someStaticInternalFunction(): Int

    @Internal
    static fun someStaticInternalFunctionThatMayThrow(shouldThrow: Boolean) throws SomethingBadHappened

    @Internal
    property someInternalProperty: String

    static fun create(): SomeClassWithInternalMembers

    @Internal
    const internalConstant: Int = 11
}

@Internal
enum SomeInternalEnum {
    ONE = 1,
    TWO = 2,
    THREE = 3,

    @Internal
    SINGLE = ONE
}

@Internal
exception SomethingBadHappened(SomeInternalEnum)

@Internal
class InternalAttributeClassInherits: InternalAttributeInterfaceParent {
}
