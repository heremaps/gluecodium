{{#isInterface}}{{>ClassWithProtocol}}{{/isInterface}}
{{^isInterface}}{{>ClassWithoutProtocol}}{{/isInterface}}{{!!

}}{{+ClassWithoutProtocol}}

internal func getRef(_ ref: {{name}}) -> RefHolder {
    return RefHolder(ref.c_instance)
}
{{#comment}}{{>swift/Comment}}{{/comment}}{{!!
}}public class {{name}}{{#if baseAndProtocols}}: {{join baseAndProtocols delimiter=', '}}{{/if}} {

{{#typedefs}}
{{prefixPartial 'swift/Typedefs' '    '}}
{{/typedefs}}{{!!

}}{{>CommonClassParts}}
}
{{/ClassWithoutProtocol}}{{!!

}}{{+ClassWithProtocol}}
{{>swift/GetReference}}

{{#comment}}{{>swift/Comment}}{{/comment}}{{!!
}}public protocol {{name}} : {{parentClass}}{{#unless parentClass}}AnyObject{{/unless}} {
{{#typedefs}}{{prefixPartial 'swift/Typedefs' '    '}}
{{/typedefs}}
{{#properties}}
    var {{name}}: {{type}} { get {{^readonly}}set {{/readonly}}}
{{/properties}}
{{#methods}}{{prefixPartial 'swift/MethodSignature' '    '}}
{{/methods}}
}

internal class _{{name}}{{#if implementsProtocols}}: {{join implementsProtocols delimiter=', '}}{{/if}} {

{{>CommonClassParts}}
}
{{/ClassWithProtocol}}{{!!



}}{{+CommonClassParts}}{{!!
}}{{#properties}}
{{prefixPartial 'swift/Property' '    '}}
{{/properties}}{{!!

}}{{prefixPartial 'swift/Constructor' '    '}}{{!!

}}{{#enums}}
{{prefixPartial 'swift/Enum' '    '}}
{{/enums}}{{!!

}}{{#structs}}
{{prefixPartial 'swift/Struct' '    '}}
{{/structs}}{{!!

}}{{#methods}}
{{prefixPartial 'swift/Method' '    '}}
{{/methods}}{{!!
}}{{/CommonClassParts}}
