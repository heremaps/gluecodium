C++ generator internal architecture
===================================

TODO #1297
